# perform_stats


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

This collects a set of functions to perform portfolio performance
analytics. I leverage quantstats package in order to build performance
tables but organize the output in a simplified format with less
statistics and graphs.

## Developer Guide

If you are new to using `nbdev` here are some useful pointers to get you
started.

### Install perform_stats in Development mode

``` sh
# make sure perform_stats package is installed in development mode
$ pip install -e .

# make changes under nbs/ directory
# ...

# compile to have changes apply to perform_stats
$ nbdev_prepare
```

## Usage

### Installation

Install latest from the GitHub
[repository](https://github.com/silvaac/perform_stats):

``` sh
$ pip install git+https://github.com/silvaac/perform_stats.git
```

### Documentation

Documentation can be found hosted on this GitHub
[repository](https://github.com/silvaac/perform_stats)’s
[pages](https://silvaac.github.io/perform_stats/). Additionally you can
find package manager specific guidelines on \[conda\]\[conda\] and
\[pypi\]\[pypi\] respectively.

## How to use

First load the data. The library expects returns and not prices
therefore it is up to the user to build returns before calling the
functions.

Here is an example of how to use the functions with daily returns from
two files: ‘strategy.parquet’ and ‘benchmark.parquet’.

``` python
import pandas as pd
from perform_stats.tables import *
# Read in strategy
strategy = pd.read_parquet('strategy.parquet')
# Read in benchmark
bench = pd.read_parquet('benchmark.parquet')
# Join them
df = pd.merge(strategy, bench, on='Date', how='inner')
df = df.tz_localize(None) # avoid issues w/qs library
print(df)
```

                 pnl_sim       ETH
    Date                          
    2016-05-18  0.000000  0.013846
    2016-05-19  0.000000  0.130501
    2016-05-20  0.000000 -0.048993
    2016-05-21  0.000000  0.000000
    2016-05-22  0.000000  0.000000
    ...              ...       ...
    2025-02-02  0.055932 -0.079419
    2025-02-03 -0.055593  0.005008
    2025-02-04  0.014117 -0.052555
    2025-02-05  0.000663  0.020581
    2025-02-06  0.016759  0.004418

    [3187 rows x 2 columns]

Call perf_stats and select the function you want to use. For example:

``` python
performance = perf_stats(df['pnl_sim'],benchmark=df['ETH'])
ret,risk = performance.return_performance()
print(ret)
print(risk)
```

                     Benchmark    Strategy
    Start Period    2016-05-18  2016-05-18
    End Period      2025-02-06  2025-02-06
    Avg (Day ann.)        1.08        1.45
    Vol (Day ann.)        0.97        0.63
    Sharpe                1.11        2.29
    MTD                  -0.15        0.02
    YTD                  -0.16       -0.18
    3M                    0.16       -0.02
    6M                    0.16        0.05
    1Y                    0.22        0.47
    3Y (ann.)             0.01        0.49
    5Y (ann.)             0.42        0.67
                       Benchmark Strategy
    Max Drawdown           -0.94    -0.46
    Longest DD Days         1186      220
    Avg. Drawdown          -0.17    -0.06
    Avg. Drawdown Days        83       15
